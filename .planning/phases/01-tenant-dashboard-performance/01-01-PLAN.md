# Plan 01-01: Tenant Dashboard Performance - Non-blocking Layout

## Objective
Remove blocking spinner from Layout and implement stale-while-revalidate for clientInfo.

## Problem
The Layout component blocks rendering with a full-page spinner until `clientInfo` loads from the API, even when the dashboard has cached data ready to display.

## Solution

### Changes Made

1. **Layout.jsx** - Remove blocking on `loading` state
   - Layout now renders immediately
   - Only shows error state for hard failures
   - Children (Dashboard) handle their own loading states

2. **AppContext.jsx** - Implement stale-while-revalidate for clientInfo
   - Added `CLIENT_INFO_CACHE_KEY` localStorage cache
   - `getCachedClientInfo()` - returns cached data if < 30 minutes old
   - `setCachedClientInfo()` - saves data with timestamp
   - Initialize `clientInfo` state with cached data (instant load)
   - Initialize `loading` state as false if cached data exists
   - Background refresh updates cache without blocking UI

## Files Modified
- `frontend/tenant-dashboard/src/components/layout/Layout.jsx`
- `frontend/tenant-dashboard/src/context/AppContext.jsx`

## Success Criteria
- [x] Layout renders immediately without spinner
- [x] Cached clientInfo shown instantly on repeat visits
- [x] Background refresh updates data without blocking
- [x] Cache warmer re-enabled with sequential fetching
- [x] Dashboard shows content within 500ms on cached visits

## Testing
1. First visit: Shows skeleton loader briefly, then content
2. Repeat visit: Content appears immediately from cache
3. Refresh: Content visible immediately, data refreshes in background

---
*Status: Complete*
*Created: 2026-01-16*
*Completed: 2026-01-16*
