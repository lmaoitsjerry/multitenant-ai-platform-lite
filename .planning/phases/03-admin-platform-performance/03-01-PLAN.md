# Plan 03-01: Admin Platform Performance - Add Caching

## Objective
Apply similar caching patterns from Phase 1 to the admin dashboard for faster loading.

## Problem
Admin dashboard makes 4 API calls on mount without caching:
- `systemApi.getHealth()`
- `tenantsApi.listSummary()`
- `analyticsApi.getOverview()`
- `analyticsApi.getTopTenants()`

Every visit fetches data fresh, causing slow perceived loading.

## Solution

### 1. Add caching layer to admin api.js
- In-memory cache with TTL (60 seconds for stats, 30 seconds for lists)
- localStorage persistence for cross-session caching
- Stale-while-revalidate pattern

### 2. Update Dashboard.jsx to use cached data
- Initialize with cached data
- Show cached data immediately
- Refresh in background

## Files to Modify
- `frontend/internal-admin/src/services/api.js`
- `frontend/internal-admin/src/pages/Dashboard.jsx`

## Success Criteria
- [x] Repeat visits show data immediately from cache
- [x] Background refresh updates cache without blocking UI
- [x] Admin dashboard loads perceived content in <500ms on cached visits

## Changes Made
1. `api.js` - Added caching layer with:
   - In-memory cache with Map
   - localStorage persistence for cross-session caching
   - CACHE_TTL constants (SHORT=30s, MEDIUM=60s, LONG=5m)
   - `getCached()`, `setCached()`, `fetchWithCache()` utilities

2. `Dashboard.jsx` - Implemented stale-while-revalidate:
   - Initialize state with cached data via `getCachedDashboardData()`
   - Only show loading spinner if no cached data
   - Cache all fetched data for next visit

---
*Status: Complete*
*Created: 2026-01-16*
*Completed: 2026-01-16*
